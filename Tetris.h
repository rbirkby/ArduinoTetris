
struct Piece {
  unsigned int *type;
  int x;
  int y;
  int dir;
};

struct Block {
  int x;
  int y;
};

// Tetris Theme A by Gori Fater. (CC BY-NC-SA 3.0)
byte PROGMEM tetrisScore [] = {
0,4,0x90,71,0x91,76,0x92,40,1,5,0,14,0x82,0,232,0x80,0x81,0,0,0x90,68,
0x91,71,0x92,40,0,14,0,216,0x80,0,14,0x81,0,0,0x90,69,0x91,72,0,14,0x82,
0,219,0x80,0,4,0,9,0x81,0,0,0x90,71,0x91,74,0x92,40,0,14,0,100,0,120,
0x80,0,5,0,8,0x81,0,0,0x90,76,0x91,52,0,14,0x82,0,99,0x80,0,2,0,5,
0x90,74,0,119,0x80,0,1,0,6,0x90,69,0x92,72,0,15,0x81,0,107,0,115,0x80,
0,13,0,2,0x82,0,0,0x90,68,0x91,71,0x92,52,0,15,0,111,0,114,0x80,0,15,
0x81,0,2,0x90,64,0x91,69,0,13,0x82,0,114,0,141,0x92,57,0,14,0,232,0x80,
0x81,0,0,0x90,64,0x91,69,0,14,0x82,0,216,0x80,0,14,0x81,0,0,0x90,69,0x91,72,
0x92,57,0,14,0,219,0x80,0,14,0x81,0,0,0x90,72,0x91,76,0,14,0x82,0,234,
0x92,57,0,14,0,231,0x80,0x81,0,0,0x90,71,0x91,74,0,14,0x82,0,216,0x80,0,14,
0x81,0,0,0x90,69,0x91,72,0x92,57,0,14,0,217,0x80,0,14,0x81,0,2,0x90,71,
0x91,68,0,12,0x82,0,236,0x81,0,15,0x91,64,0x92,56,0,14,0,218,0x81,0,15,
0x91,68,0,14,0x82,0,216,0x81,0,14,0x80,0,0,0x90,72,0x91,69,0x92,56,0,14,
0,219,0x80,0x81,0,4,0,10,0x90,71,0x91,74,0,14,0x82,0,100,0,126,0,9,
0x92,52,0,14,0,102,0,127,0,5,0x80,0x81,0,0,0x90,72,0x91,76,0,15,0x82,
0,107,0,128,0,2,0x92,52,0,15,0,111,0,129,0x80,0x81,0,2,0x90,69,0x91,72,
0,13,0x82,0,114,0,141,0x92,57,0,14,0,232,0x80,0x81,0,0,0x90,64,0x91,69,
0,14,0x82,0,231,0x92,57,0,14,0,233,0x80,0x81,0,0,0x90,64,0x91,69,0,14,
0x82,0,234,0x92,57,0,14,0,231,0,14,0x82,0,231,0x92,48,0,14,0,232,0x80,
0x81,0,2,0x90,50,0,12,0x82,0,251,0x91,65,0x92,74,0,14,0x80,0,248,0,231,
0x81,0x82,0,0,0x90,69,0x91,77,0x92,38,0,233,0x80,0,4,0,9,0x81,0,0,0x90,81,
0x91,72,0,14,0x82,0,100,0,125,0,8,0x81,0,0,0x91,72,0x92,38,0,116,0,4,
0x81,0,0,0x91,72,0,120,0,5,0x80,0,0,0x90,71,0,6,0x81,0,7,0x82,0,105,
0,113,0x80,0,12,0,1,0,0,0x90,69,0x91,77,0x92,41,0,14,0,109,0,112,
0x80,0,14,0x81,0,0,0,1,0x90,67,0x91,76,0,12,0x82,0,251,0x92,48,0,14,
0,248,0x82,0,231,0x80,0x81,0,0,0x90,64,0x91,72,0x92,48,0,233,0x80,0,14,0x81,
0,0,0x90,76,0x91,67,0,14,0x82,0,219,0x81,0,15,0x91,69,0x92,43,0,14,0,98,
0x81,0,7,0x91,67,0,117,0x81,0,7,0x80,0,0,0x90,65,0x91,74,0,14,0x82,0,216,
0x80,0,14,0x81,0,0,0x90,64,0x91,72,0x92,43,0,232,0x80,0,14,0x81,0,2,0x90,71,
0x91,68,0,12,0x82,0,236,0x81,0,15,0x91,64,0x92,59,0,14,0,218,0x81,0,14,
0x80,0,0,0x90,68,0x91,71,0,14,0x82,0,216,0x80,0,14,0x81,0,0,0x90,69,0x91,72,
0x92,59,0,233,0x80,0,14,0x81,0,0,0x90,74,0x91,71,0,14,0x82,0,219,0x81,0,15,
0x91,68,0x92,52,0,231,0x81,0,14,0x80,0,0,0x90,76,0x91,72,0,14,0x82,0,216,
0x81,0,15,0x91,68,0x92,56,0,232,0x81,0,14,0x80,0,2,0x90,72,0x91,69,0,12,
0x82,0,236,0x81,0,15,0x91,64,0x92,52,0,14,0,218,0x81,0,14,0x80,0,0,0x90,64,
0x91,69,0,14,0x82,0,231,0x92,52,0,14,0,233,0x80,0x81,0,0,0x90,64,0x91,69,
0,14,0x82,1,224,0x80,0x81,1,240,0x90,60,0x91,64,0x92,45,1,8,0,14,0x82,0,233,
0x92,45,0,14,0,231,0,14,0x82,0,233,0x80,0x81,0,0,0x90,57,0x91,60,0x92,45,
0,14,0,234,0,14,0x82,0,231,0x92,45,0,14,0,231,0,14,0x82,0,232,0x80,
0x81,0,2,0x90,59,0x91,62,0x92,44,0,12,0,251,0,14,0x82,0,233,0x92,44,0,14,
0,231,0,14,0x82,0,224,0,9,0x80,0x81,0,0,0x90,56,0x91,59,0x92,44,0,14,
0,100,0,126,0,9,0,14,0x82,0,102,0,127,0,6,0x92,44,0,15,0,107,
0,128,0,2,0,15,0x82,0,111,0,129,0x80,0x81,0,2,0x90,57,0x91,60,0x92,45,
0,13,0,114,0,141,0,14,0x82,0,233,0x92,45,0,14,0,231,0,14,0x82,0,233,
0x80,0x81,0,0,0x90,52,0x91,57,0x92,45,0,14,0,234,0,14,0x82,0,231,0x92,45,
0,14,0,231,0,14,0x82,0,232,0x80,0x81,0,2,0x90,52,0x91,56,0x92,44,0,12,
0,251,0,14,0x82,0,233,0x92,44,0,14,0,231,0,14,0x82,0,224,0,9,0x80,
0x81,0,0,0x90,56,0x91,59,0x92,44,0,14,0,100,0,126,0,9,0,14,0x82,0,102,
0,127,0,6,0x92,44,0,15,0,107,0,128,0,2,0,15,0x82,0,111,0,129,
0x80,0x81,0,2,0x90,60,0x91,64,0x92,45,0,13,0,114,0,141,0,14,0x82,0,233,
0x92,45,0,14,0,231,0,14,0x82,0,233,0x80,0x81,0,0,0x90,57,0x91,60,0x92,45,
0,14,0,234,0,14,0x82,0,231,0x92,45,0,14,0,231,0,14,0x82,0,232,0x80,
0x81,0,2,0x90,59,0x91,62,0x92,44,0,12,0,251,0,14,0x82,0,233,0x92,44,0,14,
0,231,0,14,0x82,0,233,0x80,0x81,0,0,0x90,56,0x91,59,0x92,44,0,14,0,234,
0,14,0x82,0,231,0x92,44,0,14,0,231,0,14,0x82,0,232,0x80,0x81,0,2,0x90,57,
0x91,60,0x92,45,0,12,0,251,0,14,0x82,0,232,0x80,0x81,0,0,0x90,60,0x91,64,
0x92,45,0,14,0,231,0,14,0x82,0,233,0x80,0x81,0,0,0x90,64,0x91,69,0x92,45,
0,14,0,234,0,14,0x82,0,231,0x92,45,0,14,0,231,0,14,0x82,0,232,0x80,
0x81,0,2,0x90,64,0x91,68,0x92,44,0,12,0,251,0,14,0x82,0,233,0x92,44,0,14,
0,231,0,14,0x82,0,234,0x92,44,0,14,0,234,0,14,0x82,0,231,0x92,44,0,14,
0,231,0,14,0x82,0,232,0x80,0x81,0,15,0xf0};
